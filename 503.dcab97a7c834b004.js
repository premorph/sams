"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[503],{9503:(G,k,a)=>{a.r(k),a.d(k,{BankModule:()=>P,BankRoutingModule:()=>C});var Z=a(5654),m=a(930),c=a(7164),t=a(2012);function N(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.new())}),t.qZA(),t._UZ(2,"button",15),t.qZA()}}function q(e,l){1&e&&(t.TgZ(0,"div",13),t._UZ(1,"button",16),t.qZA())}function U(e,l){1&e&&(t.TgZ(0,"div",17)(1,"h5",18),t._uU(2,"Listado de Bancos"),t.qZA(),t.TgZ(3,"span",19),t._UZ(4,"i",20)(5,"input",21),t.qZA()())}function F(e,l){1&e&&(t.TgZ(0,"tr")(1,"th",22),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",23),t._uU(4," Banco "),t._UZ(5,"p-sortIcon",24),t.qZA(),t.TgZ(6,"th",25),t._uU(7," Numero de cuenta "),t._UZ(8,"p-sortIcon",26),t.qZA(),t.TgZ(9,"th",27),t._uU(10," Estatus "),t._UZ(11,"p-sortIcon",28),t.qZA(),t._UZ(12,"th"),t.qZA())}function J(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"p-tableCheckbox",29),t.qZA(),t.TgZ(3,"td",30)(4,"span",31),t._uU(5,"Name"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"td",32)(8,"span",31),t._uU(9,"Price"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"td",30)(12,"span",31),t._uU(13,"Category"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"div",33)(17,"button",34),t.NdJ("click",function(){const s=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.update(s))}),t.qZA(),t.TgZ(18,"button",35),t.NdJ("click",function(){const s=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.delete(s))}),t.qZA()()()()}if(2&e){const n=l.$implicit;t.xp6(2),t.Q6J("value",n),t.xp6(4),t.hij(" ",n.name," "),t.xp6(4),t.hij(" ",n.accountNumber," "),t.xp6(4),t.hij(" ",n.isActive," ")}}const w=function(){return["name","country.name","representative.name","status"]},I=function(){return[10,20,30]},R=function(){return{width:"60%"}};let v=(()=>{class e{constructor(n,o){this.messageService=n,this.bankRepository=o,this.addBankDialog=!1,this.cols=[],this.bank={}}ngOnInit(){this.cols=[{field:"banco",header:"banco"},{field:"NumberAccount",header:"NumberAccount"},{field:"isActive",header:"isActive"}],this.getBanks()}new(){this.bank={},this.addBankDialog=!0}update(n){this.bank=Object.assign({},n),this.addBankDialog=!0}delete(n){this.bank=Object.assign({},n),this.addBankDialog=!0}getBanks(){this.bankRepository.getAll().subscribe(n=>{this.banks=n.banks,console.log(n)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.ez),t.Y36(c.v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-bank"]],features:[t._Bn([m.ez,c.v])],decls:14,vars:20,consts:[[1,"grid","fadein","animate-duration-500"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} hasta {last} de {totalRecords} resultados","selectionMode","multiple","dataKey","id","scrollHeight","500px",3,"columns","rows","value","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover","scrollable","virtualScroll","virtualScrollItemSize"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Banco",1,"p-fluid",3,"visible","modal","visibleChange"],[3,"bank"],[1,"my-2"],["pButton","","pRipple","","label","Nueva Entrada","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Eliminar","icon","pi pi-trash",1,"p-button-danger"],["pButton","","pRipple","","label","Exportar a PDF","icon","pi pi-file-pdf",1,"p-button-warning"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto"],[2,"width","3rem"],["pSortableColumn","banco"],["field","Banco"],["pSortableColumn","NumberAccount"],["field","NumberAccount"],["pSortableColumn","isActive"],["field","isActive"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-toast"),t.TgZ(4,"p-toolbar",3),t.YNc(5,N,3,0,"ng-template",4),t.YNc(6,q,2,0,"ng-template",5),t.qZA(),t.TgZ(7,"p-table",6,7),t.YNc(9,U,6,0,"ng-template",8),t.YNc(10,F,13,0,"ng-template",9),t.YNc(11,J,19,4,"ng-template",10),t.qZA()(),t.TgZ(12,"p-dialog",11),t.NdJ("visibleChange",function(s){return o.addBankDialog=s}),t._UZ(13,"app-bank-form",12),t.qZA()()()),2&n&&(t.xp6(7),t.Q6J("columns",o.cols)("rows",10)("value",o.banks)("globalFilterFields",t.DdM(17,w))("rows",10)("paginator",!0)("rowsPerPageOptions",t.DdM(18,I))("showCurrentPageReport",!0)("rowHover",!0)("scrollable",!0)("virtualScroll",!0)("virtualScrollItemSize",46),t.xp6(5),t.Akn(t.DdM(19,R)),t.Q6J("visible",o.addBankDialog)("modal",!0),t.xp6(1),t.Q6J("bank",o.bank))}}),e})();const V=[{path:"",component:v}];let C=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Z.Bz.forChild(V),Z.Bz]}),e})();var u=a(8439),S=a(4777),j=a(6541),A=a(290),_=a(9636),d=a(5733),g=a(6229),T=a(6873),b=a(5804),p=a(4625),Y=a(6511),E=a(9101),O=a(2180),h=a(416),B=a(404),x=a(9051),y=a(2181);function Q(e,l){1&e&&(t.TgZ(0,"small",16),t._uU(1,"El monto es requerido."),t.qZA())}function z(e,l){1&e&&(t.TgZ(0,"small",16),t._uU(1,"El monto es requerido."),t.qZA())}function H(e,l){1&e&&(t.TgZ(0,"small",16),t._uU(1,"El monto es requerido."),t.qZA())}function K(e,l){1&e&&(t.TgZ(0,"small",16),t._uU(1,"El estatus es requerido."),t.qZA())}const f=function(e){return{"ng-dirty":e}};function D(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"div",1)(1,"label",2),t._uU(2,"Nombre del banco"),t.qZA(),t.TgZ(3,"input",3,4),t.NdJ("ngModelChange",function(i){t.CHM(n);const s=t.oxw();return t.KtG(s.bank.name=i)}),t.qZA(),t.YNc(5,Q,2,0,"small",5),t.qZA(),t.TgZ(6,"div",1)(7,"label",6),t._uU(8,"Numero de cuenta"),t.qZA(),t.TgZ(9,"p-inputMask",7,8),t.NdJ("ngModelChange",function(i){t.CHM(n);const s=t.oxw();return t.KtG(s.bank.accountNumber=i)}),t.qZA(),t.YNc(11,z,2,0,"small",5),t.qZA(),t.TgZ(12,"div",1)(13,"label",9),t._uU(14,"Beneficiario"),t.qZA(),t.TgZ(15,"p-dropdown",10,11),t.NdJ("ngModelChange",function(i){t.CHM(n);const s=t.oxw();return t.KtG(s.bank.company_id=i)}),t.qZA(),t.YNc(17,H,2,0,"small",5),t.qZA(),t.TgZ(18,"div",1)(19,"label",12),t._uU(20,"Estado"),t.qZA(),t.TgZ(21,"p-dropdown",13,14),t.NdJ("ngModelChange",function(i){t.CHM(n);const s=t.oxw();return t.KtG(s.bank.isActive=i)}),t.qZA(),t.YNc(23,K,2,0,"small",5),t.qZA(),t.TgZ(24,"div",1)(25,"p-button",15),t.NdJ("onClick",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.save())}),t.qZA()()}if(2&e){const n=t.MAs(4),o=t.MAs(10),i=t.MAs(16),s=t.MAs(22),r=t.oxw();t.xp6(3),t.Q6J("ngModel",r.bank.name)("required",!0)("ngClass",t.VKq(19,f,n.invalid&&r.submitted||n.dirty&&n.invalid)),t.xp6(2),t.Q6J("ngIf",n.invalid&&r.submitted||n.dirty&&n.invalid),t.xp6(4),t.Q6J("ngModel",r.bank.accountNumber)("required",!0)("ngClass",t.VKq(21,f,o.invalid&&r.submitted||o.dirty&&o.invalid)),t.xp6(2),t.Q6J("ngIf",o.invalid&&r.submitted||o.dirty&&o.invalid),t.xp6(4),t.Q6J("ngModel",r.bank.company_id)("filter",!0)("required",!0)("options",r.beneficiaries)("ngClass",t.VKq(23,f,i.invalid&&r.submitted||i.dirty&&i.invalid)),t.xp6(2),t.Q6J("ngIf",i.invalid&&r.submitted||i.dirty&&i.invalid),t.xp6(4),t.Q6J("ngModel",r.bank.isActive)("required",!0)("options",r.statuses)("ngClass",t.VKq(25,f,s.invalid&&r.submitted||s.dirty&&s.invalid)),t.xp6(2),t.Q6J("ngIf",s.invalid&&r.submitted||s.dirty&&s.invalid)}}let M=(()=>{class e{constructor(n,o,i){this.dialogbank=n,this.beneficiaryRepository=o,this.bankRepository=i,this.submitted=!1,this.formValid=!1,this.statuses=[],this.bank={},this.beneficiaries=[],this.statuses=[{name:"ACTIVO",value:"ACTIVO"}]}ngOnInit(){this.getBeneficiaries()}validate(n){const o=Object.entries(n);return this.formValid=4===o.length,this.formValid}getBeneficiaries(){this.beneficiaryRepository.getAll().subscribe(n=>this.beneficiaries=n.beneficiarys)}save(){if(this.validate(this.bank),!this.formValid)return this.dialogbank.messageService.add({severity:"warning",detail:"Todos los campos son necesarios",summary:"Formulario incompleto"});this.bankRepository.Post(this.bank).subscribe(n=>{this.dialogbank.addBankDialog=!1,this.dialogbank.messageService.add({severity:"success",detail:"registro exitoso",life:3e3})},n=>{this.dialogbank.messageService.add({severity:"error",detail:n.message,summary:"Oops, Algo salio mal",life:3e3})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v),t.Y36(y.b),t.Y36(c.v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-bank-form"]],inputs:{bank:"bank"},standalone:!0,features:[t._Bn([y.b,c.v]),t.jDz],decls:2,vars:0,consts:[["pTemplate","content"],[1,"field"],["for","name"],["id","name","type","text","pInputText","","pInputText","",3,"ngModel","required","ngClass","ngModelChange"],["name","ngModel"],["class","p-error fadein",4,"ngIf"],["for","accountNumber"],["mask","9999-9999-9999-9999-99999","id","accountNumber",3,"ngModel","required","ngClass","ngModelChange"],["accountNumber","ngModel"],["for","company"],["id","company","type","text","optionLabel","name","optionValue","id",3,"ngModel","filter","required","options","ngClass","ngModelChange"],["company","ngModel"],["for","status"],["id","status","optionLabel","name","optionValue","value",3,"ngModel","required","options","ngClass","ngModelChange"],["status","ngModel"],["label","Guardar","icon","pi pi-save",3,"onClick"],[1,"p-error","fadein"]],template:function(n,o){1&n&&(t.TgZ(0,"p-card"),t.YNc(1,D,26,27,"ng-template",0),t.qZA())},dependencies:[u.ez,u.mk,u.O5,B.d,B.Z,m.jx,b.j,b.o,_.kW,_.Lt,h.EV,g.hJ,g.zx,p.u5,p.Fj,p.JJ,p.Q7,p.On,x.zz,x.vy]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,C,A.S,_.kW,d.U$,g.hJ,T.V,b.j,E.L$,O.cc,p.u5,S.Xt,h.EV,p.UX,Y._8,j.A,M]}),e})();t.B6R(v,[A.V,m.jx,d.iA,d.lQ,d.fz,d.UA,d.Mo,g.Hq,T.o,b.o,h.FN,M],[])}}]);